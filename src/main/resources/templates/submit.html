<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            background-color: #f7f7f7;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
        h2 {
            text-align: center;
            color: #333;
        }
        .task-info {
            margin-bottom: 30px;
        }
        .task-info p {
            font-size: 1.1em;
            color: #555;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
        }
        .btn:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Task Viewer</h2>

    <!-- Display Date and Tasks -->
    <div id="task-info" class="task-info">
        <p id="date-display">Date: <span id="date"></span></p>
        <p id="task-display">Tasks: <span id="tasks"></span></p>
    </div>

    <!-- Button to Navigate to Next Day -->
    <button id="next-day-btn" class="btn">Next Day</button>
</div>

<script>
    // Initialize today's date
    let currentDate = new Date();

    // Thymeleaf will populate this data
    const days = /*[[${days}]]*/ {};  // This is a map of LocalDate -> Day objects from the server

    // Function to format date as YYYY-MM-DD
    function formatDate(date) {
        let year = date.getFullYear();
        let month = (date.getMonth() + 1).toString().padStart(2, '0');
        let day = date.getDate().toString().padStart(2, '0');
        return `${year}-${month}-${day}`;
    }

    // Function to update the displayed date and tasks
    function updateDisplay() {
        let formattedDate = formatDate(currentDate);
        document.getElementById('date').innerText = formattedDate;

        // Get tasks for the current date from the days map
        let day = days[formattedDate];
        if (day) {
            // Assuming the 'day' object has a 'tasks' field containing task information
            document.getElementById('tasks').innerText = day.tasks || 'No tasks for this date.';
        } else {
            document.getElementById('tasks').innerText = 'No tasks for this date.';
        }
    }

    // Event listener for the "Next Day" button
    document.getElementById('next-day-btn').addEventListener('click', function() {
        // Move to the next day
        currentDate.setDate(currentDate.getDate() + 1);
        updateDisplay();  // Update the display with the next day's data
    });

    // Initialize the page with today's date and tasks
    updateDisplay();
</script>

</body>
</html>
